---
title: Databricks with Terraform
permalink: databricks-with-terraform
created: 2025-08-14T22:51:00
updated: 2025-08-14T22:51:00
tags:
  - Databricks
  - データ分析基盤
  - IaC
  - データレイク
  - データウェアハウス
  - データレイクハウス
---
## ワークスペースでterraform実行
- ダウンロードしてインストールする
	- zipで落として解凍して使うでオッケー
- サービスプリンシパルのoidcやpatなどで、プロバイダーの設定をする
- 環境変数
	- 普通に実行するとauth_typeが複数ある的なメッセージが出て、エラーになる　
		- アカウント設定をしていたので、そこがワークスペースのターミナルの設定と被った？
		- DATABRICKS_HOSTとDATABRICKS_TOKENを空文字で置き換えて実行したら、実行できる
		- ワークスペース系だったらそのまま行けるってことか？環境変数側で既に設定済み？
- S3のバックエンドを利用している場合
	- S3バケットへのアクセス権限が必要。
	- AWSのアクセスキーやシークレットキーを環境変数で設定すればいける
	- ロールなどを使うのであれば、クラスターの権限として持てば行ける？
		- インスタンスプロファイル
		- サーバレスは無理な気がする